mcp:
  description: "Demo of tool requirements feature"
  
  tools:
    - name: "universal_tool"
      description: "Tool that works on any OS"
      params:
        random_string:
          type: string
          description: "Dummy parameter for no-parameter tools"
          required: true
      run:
        command: "echo 'This tool works on any system'"

    - name: "linux_only_tool"
      description: "Tool that only works on Linux"
      params:
        random_string:
          type: string
          description: "Dummy parameter for no-parameter tools"
          required: true
      run:
        command: "echo 'This tool only works on Linux'"
        runners:
          - name: exec
            requirements:
              os: "linux"

    - name: "macos_only_tool"
      description: "Tool that only works on macOS"
      params:
        random_string:
          type: string
          description: "Dummy parameter for no-parameter tools"
          required: true
      run:
        command: "echo 'This tool only works on macOS'"
        runners:
          - name: exec
            requirements:
              os: "darwin"

    - name: "windows_only_tool"
      description: "Tool that only works on Windows"
      params:
        random_string:
          type: string
          description: "Dummy parameter for no-parameter tools"
          required: true
      run:
        command: "echo 'This tool only works on Windows'"
        runners:
          - name: exec
            requirements:
              os: "windows"

    - name: "python_required_tool"
      description: "Tool that requires Python to be installed"
      params:
        script:
          type: string
          description: "Python script to run"
          required: true
      constraints:
        - "script.size() <= 100"
        - "!script.contains('import os')"  # Prevent os module usage
      run:
        command: "python3 -c \"{{ .script }}\""
        runners:
          - name: exec
            requirements:
              executables: ["python3"]
